<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>New Shipment Entry</title>
    <link rel="stylesheet" href="/static/style.css">
</head>
<body>
    <h1>New Shipment Entry</h1>
    <form id="shipment-header-form" method="post" action="/shipment/new">
        <fieldset>
            <legend>Shipment Header</legend>
            <label>Supplier Name: <input type="text" name="supplier_name" required></label><br>
            <label>Shipment No: <input type="text" name="shipment_no" required></label><br>
            <label>Date Received: <input type="date" name="date_received" required></label><br>
            <label>Comments: <input type="text" name="comments"></label><br>
        </fieldset>
        <fieldset id="shipment-details">
            <legend>Shipment Details</legend>
            <div class="shipment-detail">
                <label>Description: <input type="text" name="description[]" required></label>
                <label>SKU: <input type="text" name="sku[]" required></label>
                <label>Quantity: <input type="number" name="quantity[]" min="1" required></label>
                <label>Unit Price: <input type="number" name="unit_price[]" step="0.01" min="0" required></label>
                <label>Comments: <input type="text" name="detail_comments[]"></label>
                <button type="button" onclick="removeDetail(this)">Remove</button>
            </div>
        </fieldset>
        <button type="button" onclick="addDetail()">Add Another Detail</button>
        <br><br>
        <input type="submit" value="Submit Shipment">
    </form>
    <script>
        function addDetail() {
            const details = document.getElementById('shipment-details');
            const div = document.createElement('div');
            div.className = 'shipment-detail';
            div.innerHTML = `
                <label>Description: <input type="text" name="description[]" required></label>
                <label>SKU: <input type="text" name="sku[]" required></label>
                <label>Quantity: <input type="number" name="quantity[]" min="1" required></label>
                <label>Unit Price: <input type="number" name="unit_price[]" step="0.01" min="0" required></label>
                <label>Comments: <input type="text" name="detail_comments[]"></label>
                <button type="button" onclick="removeDetail(this)">Remove</button>
            `;
            details.appendChild(div);
        }
        function removeDetail(btn) {
            btn.parentElement.remove();
        }
    </script>
</body>
</html>
